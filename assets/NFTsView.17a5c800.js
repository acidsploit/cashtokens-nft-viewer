import{P as k,d as C}from"./PageLoading.69c17b1f.js";import{d as F,u as N,a as S,b as x,o as T,w as V,r as I,c,e as o,f as L,S as B,g as n,h as v,i as r,t as u,F as f,j as R,p as q,k as A,l,m as E,n as P,_ as j}from"./index.894c1b77.js";const D=d=>(q("data-v-62b1dd83"),d=d(),A(),d),G={key:1},M={key:2,class:"wrapper container"},O={class:"heading"},U=D(()=>r("div",{class:"col title"},[r("h3",null,"NFT"),r("h3",null,"Collections")],-1)),z={key:0,class:"address"},H={class:"collection-list container"},J={class:"collection-name"},K=["src"],Q=["onClick"],W=["onClick"],X=["onClick"],Y={class:"description"},Z={class:"bottom-row"},ee={class:"amount mono"},se=F({__name:"NFTsView",props:{address:{type:String,required:!0}},setup(d){const p=d,w=N(),s=S(),_=x();T(async()=>{console.log("props: "+p.address),console.log("validated query: "+s.result.address),(s.result.address!==p.address||!s.result.fullAddressLookup)&&await s.search("props",p.address)}),V([()=>p.address],async([t])=>{(s.result.address!==t||!s.result.fullAddressLookup)&&await s.search("props",t)});function m(t,a){return t||`${a.slice(0,4)}...${a.slice(-4)}`}function y(t){if(t&&t.slice(0,7)==="ipfs://"){let a=w.ipfsGateway,i=t.slice(7);return a+i}else if(t)return t}function b(t,a,i){let e=`${a}/${i}`;_.add(e,t)}function g(t,a){let i=`${t}/${a}`;_.remove(i)}async function $(t,a){const i=window.location.origin,e=C.exports.useToast();await navigator.clipboard.writeText(`${i}/collection/${t}/${a}`).then(()=>{e.open({message:"Link copied to clipboard",type:"success",position:"top-right",duration:5e3})})}return(t,a)=>{const i=I("RouterLink");return l(),c(f,null,[o(s).error!==null?(l(),L(B,{key:0,error:o(s).error,type:"page"},null,8,["error"])):n("",!0),o(s).result.tokens.length===0&&o(s).error===null?(l(),c("div",G,[v(k)])):n("",!0),o(s).result.tokens.length!==0?(l(),c("div",M,[r("div",O,[U,o(s).result.wallet?(l(),c("div",z," On address: "+u(o(s).result.wallet.tokenaddr),1)):n("",!0)]),r("div",H,[(l(!0),c(f,null,R(o(s).result.tokens,e=>(l(),c("div",{class:"nft-collection",key:e.id},[r("div",J,[e.bcmr?.uris?.icon?(l(),c("img",{key:0,src:y(e.bcmr.uris.icon),alt:"icon"},null,8,K)):n("",!0),r("h3",null,u(m(e.bcmr?.name,e.id)),1),r("span",{class:"share material-symbols-outlined",onClick:h=>$(o(s).result.wallet?.cashaddr,e.id),title:"Copy shareable link"}," share ",8,Q),o(_).isFav(`${o(s).result.wallet?.cashaddr}/${e.id}`)?n("",!0):(l(),c("span",{key:1,class:"favorite material-symbols-outlined",onClick:h=>b(m(e.bcmr?.name,e.id),o(s).result.wallet?.cashaddr,e.id),title:"Add NFT collection to favorites"}," favorite ",8,W)),o(_).isFav(`${o(s).result.wallet?.cashaddr}/${e.id}`)?(l(),c("span",{key:2,class:"favorite material-symbols-outlined red",onClick:h=>g(o(s).result.wallet?.cashaddr,e.id),title:"Remove NFT collection from favorites"}," favorite ",8,X)):n("",!0)]),r("p",Y,u(e.bcmr?.description?e.bcmr?.description:""),1),r("div",Z,[r("p",ee,u(e.amount/10**(e.bcmr?.token?.decimals?e.bcmr?.token?.decimals:0))+" "+u(e.bcmr?.token?.symbol?e.bcmr?.token?.symbol:"units"),1),v(i,{class:"btn-view-collection",to:`/collection/${o(s).result.wallet?.address}/${e.id}`},{default:E(()=>[P("View Collection ")]),_:2},1032,["to"])])]))),128))])])):n("",!0)],64)}}});const ae=j(se,[["__scopeId","data-v-62b1dd83"]]);export{ae as default};
