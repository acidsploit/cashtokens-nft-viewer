import{P as $,d as B}from"./PageLoading.3db20891.js";import{d as b,l as R,u as F,m as M,o as S,i as x,c as i,b as t,j as N,S as V,e as l,a as m,f as n,t as u,F as f,r as I,p as T,g as q,h as r,w as L,k as D,_ as E}from"./index.72e09cb0.js";const P=d=>(T("data-v-e7deba2a"),d=d(),q(),d),Q={key:1},j={key:2,class:"wrapper container"},G={class:"heading"},O=P(()=>n("div",{class:"col title"},[n("h3",null,"NFT"),n("h3",null,"Collections")],-1)),U={key:0,class:"address"},z={class:"collection-list container"},A={class:"collection-name"},H=["src"],J=["onClick"],K=["onClick"],W=["onClick"],X={class:"description"},Y={class:"bottom-row"},Z={class:"amount"},ee=b({__name:"NFTsView",props:{address:{type:String,required:!0}},setup(d){const _=d,y=R(),s=F(),p=M();S(async()=>{console.log("props: "+_.address),console.log("validated query: "+s.validatedQuery.query),s.validatedQuery.query!==_.address&&(s.query=_.address,s.type="path",await s.search())});function h(o,a){return o||`${a.slice(0,4)}...${a.slice(-4)}`}function k(o){if(o&&o.slice(0,7)==="ipfs://"){let a=y.ipfsGateway,c=o.slice(7);return a+c}else if(o)return o}function w(o,a,c){let e=`${a}/${c}`;p.add(e,o)}function g(o,a){let c=`${o}/${a}`;p.remove(c)}async function C(o,a){const c=window.location.origin,e=B.exports.useToast();await navigator.clipboard.writeText(`${c}/collection/${o}/${a}`).then(()=>{e.open({message:"Link copied to clipboard",type:"success",position:"top-right",duration:5e3})})}return(o,a)=>{const c=x("RouterLink");return r(),i(f,null,[t(s).error!==null?(r(),N(V,{key:0,error:t(s).error,type:"page"},null,8,["error"])):l("",!0),t(s).nftDetails.length===0&&t(s).error===null?(r(),i("div",Q,[m($)])):l("",!0),t(s).nftDetails.length!==0?(r(),i("div",j,[n("div",G,[O,t(s).wallet?(r(),i("div",U," On address: "+u(t(s).wallet.tokenaddr),1)):l("",!0)]),n("div",z,[(r(!0),i(f,null,I(t(s).nftDetails,e=>(r(),i("div",{class:"nft-collection",key:e.id},[n("div",A,[e.BCMR?.uris?.icon?(r(),i("img",{key:0,src:k(e.BCMR.uris.icon),alt:"icon"},null,8,H)):l("",!0),n("h3",null,u(h(e.BCMR?.name,e.id)),1),n("span",{class:"share material-symbols-outlined",onClick:v=>C(t(s).wallet?.cashaddr,e.id)}," share ",8,J),t(p).isFav(`${t(s).wallet?.cashaddr}/${e.id}`)?l("",!0):(r(),i("span",{key:1,class:"favorite material-symbols-outlined",onClick:v=>w(h(e.BCMR?.name,e.id),t(s).wallet?.cashaddr,e.id)}," favorite ",8,K)),t(p).isFav(`${t(s).wallet?.cashaddr}/${e.id}`)?(r(),i("span",{key:2,class:"favorite material-symbols-outlined red",onClick:v=>g(t(s).wallet?.cashaddr,e.id)}," favorite ",8,W)):l("",!0)]),n("p",X,u(e.BCMR?.description?e.BCMR?.description:""),1),n("div",Y,[n("p",Z,u(e.amount/10**(e.BCMR?.token?.decimals?e.BCMR?.token?.decimals:0))+" "+u(e.BCMR?.token?.symbol?e.BCMR?.token?.symbol:"units"),1),m(c,{class:"btn-view-collection",to:`/collection/${t(s).wallet?.address}/${e.id}`},{default:L(()=>[D("View Collection ")]),_:2},1032,["to"])])]))),128))])])):l("",!0)],64)}}});const oe=E(ee,[["__scopeId","data-v-e7deba2a"]]);export{oe as default};
