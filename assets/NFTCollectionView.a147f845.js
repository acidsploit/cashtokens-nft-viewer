import{d as I,i as g,u as w,s as N,l,o as T,q as C,c as i,f as n,t as c,b as x,F as B,r as F,h as d,e as S,_ as q}from"./index.2e9d997e.js";const V={class:"container"},$={class:"collection-title"},D={class:"collection-name"},U={class:"collection-address"},E={class:"nft-container"},L=["src"],b={class:"commitment"},G=I({__name:"NFTCollectionView",props:{address:{type:String,required:!0},tokenId:{type:String,required:!0}},setup(f){const t=f,k=g(),o=w(),{wallet:v}=N(o),m=l(0),u=l([]),_=l([]),r=l("");async function p(){r.value=o.getNftCollectionNameById(t.tokenId),m.value=o.wallet?await o.wallet.getNftTokenBalance(t.tokenId):0,u.value=o.wallet?await o.wallet.getTokenUtxos(t.tokenId):[],u.value.forEach(e=>{if(e.token?.tokenId&&e.token?.commitment){let a=o.getNftDetailByCommitment(e.token.tokenId,e.token.commitment);a&&_.value.push({id:e.token.tokenId,commitment:e.token.commitment,nftType:a})}})}function y(e){if(e&&e.slice(0,7)==="ipfs://"){let a=k.ipfsGateway,s=e.slice(7);return a+s}else if(e)return e}T(async()=>{o.validatedQuery.query===t.address?await p():(o.query=t.address,o.type="path",await o.search(t.tokenId).then(async()=>{await p()}))});const h=C(()=>(console.log(t.tokenId),console.log(`${t.tokenId.slice(0,4)}...${t.tokenId.slice(-4)}`),r.value?r.value:`${t.tokenId.slice(0,4)}...${t.tokenId.slice(-4)}`));return(e,a)=>(d(),i("div",V,[n("div",$,[n("h3",D,c(h.value),1),n("div",U,[n("div",null,"On address: "+c(x(v)?.tokenaddr),1),n("div",null,"Child NFTs: "+c(m.value),1)])]),n("div",E,[(d(!0),i(B,null,F(_.value,s=>(d(),i("div",{class:"nft-card",key:s.commitment},[s.nftType.uris?.icon?(d(),i("img",{key:0,src:y(s.nftType.uris.icon)},null,8,L)):S("",!0),n("p",null,c(s.nftType.name),1),n("p",b,"Commitment: "+c(s.commitment),1)]))),128))])]))}});const O=q(G,[["__scopeId","data-v-8cd737f9"]]);export{O as default};
