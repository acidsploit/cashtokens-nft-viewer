import{e as C,B as H,D as N,s as g,E as V,w as M,G as B,H as D,I as F,J as A,K as E,d as O,u as q,a as G,o as K,v,c as u,i as d,t as _,g as b,F as x,j as S,p as J,k as L,l,_ as P}from"./index.a08da252.js";function W(s){return typeof s=="function"?s():C(s)}function k(s,e=""){if(s instanceof Promise)return s;const r=W(s);return!s||!r?r:Array.isArray(r)?r.map(n=>k(n,e)):typeof r=="object"?Object.fromEntries(Object.entries(r).map(([n,t])=>n==="titleTemplate"||n.startsWith("on")?[n,C(t)]:[n,k(t,n)])):r}const z="usehead",j=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},T="__unhead_injection_handler__";function Q(){if(T in j)return j[T]();const s=H(z);return s||N()}function R(s,e={}){const r=e.head||Q();if(r)return r.ssr?r.push(s,e):X(r,s,e)}function X(s,e,r={}){const n=g(!1),t=g({});V(()=>{t.value=n.value?{}:k(e)});const o=s.push(t.value,r);return M(t,f=>{o.patch(f)}),A()&&(B(()=>{o.dispose()}),D(()=>{n.value=!0}),F(()=>{n.value=!1})),o}function Y(s,e){const{title:r,titleTemplate:n,...t}=s;return R({title:r,titleTemplate:n,_flatMeta:t},{...e,transform(o){const p=E({...o._flatMeta});return delete o._flatMeta,{...o,meta:p}}})}const U=s=>(J("data-v-b25d34d5"),s=s(),L(),s),Z={class:"container wrapper"},$={class:"nft-name"},ee=["src"],te={class:"container meta"},se={key:0,class:"attributes"},ne=U(()=>d("h4",{class:"text-center"},"Attributes",-1)),re={class:"table"},ae={class:"key"},oe={class:"value"},ie={key:1,class:"description"},ce=U(()=>d("h4",{class:"text-center"},"Description",-1)),ue=O({__name:"NFTView",props:{address:{type:String,required:!0},tokenId:{type:String,required:!0},commitment:{type:String,required:!0}},setup(s){const e=s,r=q(),n=G(),t=g(null);function o(){Y({title:t.value?.bcmr?.token?.nfts?.parse.types[e.commitment].name,description:t.value?.bcmr?.token?.nfts?.parse.types[e.commitment].description,ogDescription:t.value?.bcmr?.token?.nfts?.parse.types[e.commitment].description,ogTitle:t.value?.bcmr?.token?.nfts?.parse.types[e.commitment].name,ogImage:t.value?.bcmr?.token?.nfts?.parse.types[e.commitment].uris?.image,twitterCard:"summary_large_image"})}K(()=>{let a=n.result.tokens.find(i=>i.id===e.tokenId);n.result.address===e.address&&a!=null?(t.value=a,o()):n.search("props",e.address,e.tokenId).then(()=>{a=n.result.tokens.find(i=>i.id===e.tokenId),a!=null&&(t.value=a,o())})}),M([()=>e.address,()=>e.tokenId,()=>e.commitment],async([a,i,m])=>{let c=n.result.tokens.find(y=>y.id===i);n.result.address===a&&c!=null?(t.value=c,o()):n.search("props",a,i).then(()=>{c=n.result.tokens.find(y=>y.id===i),c!=null&&(t.value=c,o())})});const p=v(()=>t?.value?.bcmr?.token?.nfts?.parse.types[e.commitment].name);function f(a){if(a.slice(0,7)==="ipfs://"){let i=r.ipfsGateway,m=a.slice(7);a=i+m}return a}const w=v(()=>t.value?.bcmr?.token?.nfts?.parse.types[e.commitment].uris?.image!=null?f(t.value.bcmr.token.nfts.parse.types[e.commitment].uris.image):t.value?.bcmr?.token?.nfts?.parse.types[e.commitment].uris?.icon!=null?f(t.value.bcmr.token.nfts.parse.types[e.commitment].uris.icon):void 0),I=v(()=>t.value?.bcmr?.token?.nfts?.parse.types[e.commitment].description),h=v(()=>t.value?.bcmr?.token?.nfts?.parse.types[e.commitment]?.extensions?.attributes);return(a,i)=>(l(),u("div",Z,[d("h1",$,_(p.value?p.value:e.commitment),1),w.value?(l(),u("img",{key:0,src:w.value},null,8,ee)):b("",!0),d("div",te,[h.value?(l(),u("div",se,[ne,d("div",re,[d("div",ae,[(l(!0),u(x,null,S(Object.entries(h.value),([m])=>(l(),u("div",{class:"entry mono",key:m},_(m),1))),128))]),d("div",oe,[(l(!0),u(x,null,S(Object.entries(h.value),([m,c])=>(l(),u("div",{class:"entry mono",key:m},_(c||"none"),1))),128))])])])):b("",!0),I.value?(l(),u("div",ie,[ce,d("div",null,_(I.value),1)])):b("",!0)])]))}});const de=P(ue,[["__scopeId","data-v-b25d34d5"]]);export{de as default};
